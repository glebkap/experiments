# Соглашение о разработке

## Общие положения

Настоящее соглашение определяет порядок разработки программного решения для автоматического обнаружения, маркировки и подсчета дверей и окон на планах зданий (далее — Проект).

Целью Проекта является создание программного решения, способного анализировать изображения планов зданий, идентифицировать на них двери и окна, отмечать их и подсчитывать количество.

## Технологический стек

Разработка Проекта осуществляется с использованием следующих технологий:
- Язык программирования: Python
- Библиотека компьютерного зрения: OpenCV
- Дополнительные библиотеки по необходимости

## Организация разработки

Структура проекта:
- `docs/` - документация проекта
- `src/` - исходный код
- `tests/` - тесты
- `data/` - тестовые данные и примеры
- `results/` - результаты обработки

## Структура проекта

В проекте реализованы идеи из слоистой архитектуры и DDD.

### Domain

Каждый домен представлен в отдельных пакетах в директории domain корне проекта. Например, `object`,  `room`.

Домен содержит в себе:
1. Доменные сущности (например, `Size`, `Coordinates` и т.д.).
2. Доменные ошибки / исключения.
3. Интерфейсы хранилищ (репозитории) представленные как абстрактные классы. 
4. Функции / методы реализующие доменную логику.

Примеры доменов:
1. [domain/object](../domain/object) -- двери и окна.
2. [domain/room](../domain/room) -- комната.

### Usecase

1. На этом слое находится бизнес-логика. Она определяет функциональность приложения.
2. Usecase используют один и более домен для реализации бизнес-логики.
3. Usecase не может вызывать другой usecase.
4. Usecase находятся в поддиректориях директории [usecase/](../usecase).
5. Usecase группируются по логическому смыслу.
6. Внутри каждой директории могут находиться один и более файлов с имплементацией usecase. Один файл -- один usecase.
7. Каждый файл должен отражать семантику usecase (например, `find_objects.py`).
8. Usecase внутри одной директории объединяются в модуль. В `__init__.py` должен быть представлен конструктор usecases.

Шаблоны usecase см. в [templates/usecase](./templates).


## Стандарты кодирования

Стиль кода:
- Соблюдение PEP8 для Python-кода
- Использование типизации через аннотации типов
- Документирование функций и классов через docstrings

Документация кода:
- Все публичные функции и классы должны иметь документацию на русском языке
- Комментарии должны объяснять "почему", а не "что" делает код
- Сложные алгоритмы должны сопровождаться подробными комментариями
